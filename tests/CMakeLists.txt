function(tlct_add_test name srcs)
    add_executable(${name} ${srcs})
    target_compile_features(${name} PRIVATE cxx_std_20)
    target_link_libraries(${name} PRIVATE tlct GTest::gtest_main)
    copy_dlls_if_needed(${name})
    gtest_discover_tests(${name})
endfunction()

tlct_add_test(test_common_cfg "test_common_cfg.cpp")
tlct_add_test(test_tspc_cfg_v1 "test_tspc_cfg_v1.cpp")
tlct_add_test(test_tspc_cfg_v2 "test_tspc_cfg_v2.cpp")
